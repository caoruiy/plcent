var app=angular.module("plcent",["pascalprecht.translate","ui.bootstrap","ui.router","oc.lazyLoad","ngAnimate","plcent.miniJquery","plcent.popShow"]).value("isDebug","undefined"==typeof _IS_DEBUG).config(["$translateProvider",function(e){var t={Plcent:"Plcent",Home:"主页",Movie:"电影",Blog:"博客",GitHub:"GitHub",Language:"语言","caoruiy's personal site":"caoruiy 的个人站点","Contact me":"和我联系","ABOUT ME":"关于我"};localStorage.lang=localStorage.lang||"zh-cn",e.translations("zh-cn",t),e.translations("en-us",{}),e.preferredLanguage(localStorage.lang),e.useSanitizeValueStrategy("escape")}]).config(["$provide","$compileProvider","$controllerProvider","$filterProvider",function(e,t,o,n){app.controller=o.register,app.directive=t.directive,app.filter=n.register,app.factory=e.factory,app.service=e.service,app.constant=e.constant}]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("index",{name:"index",url:"/",views:{main:{controller:"indexCtrl",templateUrl:"./tpl/index.html"}},resolve:{deps:["$ocLazyLoad",function(e){return e.load("./css/index.css"),e.load("./js/index.js")}]}}).state("movie",{name:"movie",url:"/movie",views:{main:{controller:"movieCtrl",templateUrl:"./tpl/movie.html"}},resolve:{deps:["$ocLazyLoad",function(e){return e.load("./css/movie.css"),e.load("./js/movie.js")}]}}).state("movie.detail",{name:"movie.detail",url:"/detail/:id",views:{detail:{controller:"movieDetailCtrl",templateUrl:"./tpl/detail.html"}},resolve:{deps:["$ocLazyLoad",function(e){return e.load("./css/movie.css"),e.load("./js/movie.js")}]}}).state("aboutme",{name:"aboutme",url:"/aboutme",views:{main:{templateUrl:"./tpl/about.html",controller:"aboutmeController",controllerAs:"vm"}},resolve:{deps:["$ocLazyLoad",function(e){return e.load("./css/about.css"),e.load("./js/about.js")}]}}),t.otherwise("/")}]).service("http",["$http","loading","$q",function(e,t,o){var n=function(n,r,i){var a={method:n=n.toUpperCase(),url:r,cache:!0,eventHandlers:{loadstart:function(){t.show()},readystatechange:function(){t.hide()}}};return"GET"===n?a.params=i:"POST"===n&&(a.data=i),e(a).then(function(e){return 200==e.status?o.resolve(e):o.reject(e)})};return n.get=function(e,t){return n("GET",e,t)},n.post=function(e,t){return n("POST",e,t)},n}]).directive("loading",function(){return{restrict:"EA",replace:!0,template:'<div class="mask" id="loading"><div class="loading"></div></div>'}}).service("loading",["$compile",function(e){this.show=function(){angular.element(document.querySelector("body")).append(e("<loading></loading>")({}))},this.hide=function(){angular.element(document.querySelector("#loading")).remove()}}]).controller("mainCtrl",["$rootScope","$scope","$translate",function(e,t,o){t.changeLanguage=function(n){localStorage.lang=n,e.lang=t.locLanguage=localStorage.lang,o.use(n)},e.lang=t.locLanguage=localStorage.lang}]);angular.module("plcent.miniJquery",[]).factory("$",["$window",function(e){function t(e){"<"===e[0]&&">"===e[e.length-1]&&e.length>=3?(e=e.substr(1,e.length-2),this[0]=angular.element(document.createElement(e))):this[0]=angular.element(document.querySelectorAll(e)),this[0][0]?this.length=this[0].length:this.length=0}return t.prototype.addClass=function(e){return this[0].addClass(e),this},t.prototype.removeClass=function(e){return this[0].removeClass(e),this},t.prototype.setClass=function(e){return this[0].attr("class",e),this},t.prototype.hasClass=function(e){return this[0].hasClass(e)},t.prototype.element=function(){return this[0]},t.prototype.find=function(e){return this[0][0]&&e?(this[0]=angular.element(this[0][0].querySelectorAll(e)),this):this.reset()},t.prototype.reset=function(){return this.setElement(),this},t.prototype.setElement=function(e){return e?this[0]=e:(this.length=0,this[0]=angular.element()),this},t.prototype.after=function(e,e){return this[0].after(e,e),this},t.prototype.append=function(e,e){return this[0].append(e,e),this},t.prototype.attr=function(e,t){return this[0].attr(e,t),this},t.prototype.remove=function(){this[0].remove()},t.prototype.first=function(){return this[0]=this[0][0],this},t.prototype.on=function(e,t){return this[0].on(e,t),this},t.prototype.off=function(e,t){return this[0].off(e,t),this},t.prototype.once=function(e,t){return this[0].once(e,t),this},function(e){return new t(e)}}]),angular.module("plcent.popShow",[]).directive("popShow",["$animate","$","$timeout","popShowInstance",function(e,t,o,n){return function(e,r,i){r.on("click",function(){var e=r.find("img").attr("src");n.has()&&n.clear();var i=t("<img>");i.attr("src",e),i.addClass("positionAbsolute"),r.append(i.element()),n.add(i),o(function(){},100)})}}]).service("popShowInstance",[function(){var e=[];this.has=function(){return e.length&&!0},this.add=function(t){e.push(t)},this.clear=function(){for(var t in e)e[t].remove();e=[]}}]);