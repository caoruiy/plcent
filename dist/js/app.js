var _IS_DEBUG=!0,app=angular.module("plcent",["pascalprecht.translate","ui.bootstrap","ui.router","oc.lazyLoad","ngAnimate","plcent.miniJquery","plcent.popShow"]).value("isDebug",void 0===_IS_DEBUG).config(["$translateProvider",function(t){var e={Plcent:"Plcent",Home:"主页",Movie:"电影",Blog:"博客",GitHub:"GitHub",Language:"语言","caoruiy's personal site":"caoruiy 的个人站点","Contact me":"和我联系","ABOUT ME":"关于我"};localStorage.lang=localStorage.lang||"zh-cn",t.translations("zh-cn",e),t.translations("en-us",{}),t.preferredLanguage(localStorage.lang),t.useSanitizeValueStrategy("escape")}]).config(["$provide","$compileProvider","$controllerProvider","$filterProvider",function(t,e,n,o){app.controller=n.register,app.directive=e.directive,app.filter=o.register,app.factory=t.factory,app.service=t.service,app.constant=t.constant}]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("index",{name:"index",url:"/",views:{main:{controller:"indexCtrl",templateUrl:"./tpl/index.html"}},resolve:{deps:["$ocLazyLoad",function(t){return t.load("./css/index.css"),t.load("./js/index.js")}]}}).state("movie",{name:"movie",url:"/movie",views:{main:{controller:"movieCtrl",templateUrl:"./tpl/movie.html"}},resolve:{deps:["$ocLazyLoad",function(t){return t.load("./css/movie.css"),t.load("./js/movie.js")}]}}).state("movie.detail",{name:"movie.detail",url:"/detail/:id",views:{detail:{controller:"movieDetailCtrl",templateUrl:"./tpl/detail.html"}},resolve:{deps:["$ocLazyLoad",function(t){return t.load("./css/movie.css"),t.load("./js/movie.js")}]}}).state("aboutme",{name:"aboutme",url:"/aboutme",views:{main:{templateUrl:"./tpl/about.html",controller:"aboutmeController",controllerAs:"vm"}},resolve:{deps:["$ocLazyLoad",function(t){return t.load("./css/about.css"),t.load("./js/about.js")}]}}),e.otherwise("/")}]).service("http",["$http","loading","$q",function(t,e,n){var o=function(o,r,i){var a={method:o=o.toUpperCase(),url:r,cache:!0,eventHandlers:{loadstart:function(){e.show()},readystatechange:function(){e.hide()}}};return"GET"===o?a.params=i:"POST"===o&&(a.data=i),t(a).then(function(t){return 200==t.status?n.resolve(t):n.reject(t)})};return o.get=function(t,e){return o("GET",t,e)},o.post=function(t,e){return o("POST",t,e)},o}]).directive("loading",function(){return{restrict:"EA",replace:!0,template:'<div class="mask" id="loading"><div class="loading"></div></div>'}}).service("loading",["$compile",function(t){this.show=function(){angular.element(document.querySelector("body")).append(t("<loading></loading>")({}))},this.hide=function(){angular.element(document.querySelector("#loading")).remove()}}]).controller("mainCtrl",["$rootScope","$scope","$translate",function(t,e,n){e.changeLanguage=function(o){localStorage.lang=o,t.lang=e.locLanguage=localStorage.lang,n.use(o)},t.lang=e.locLanguage=localStorage.lang}]);angular.module("plcent.miniJquery",[]).factory("$",["$window",function(t){function e(t){"<"===t[0]&&">"===t[t.length-1]&&t.length>=3?(t=t.substr(1,t.length-2),this[0]=angular.element(document.createElement(t))):this[0]=angular.element(document.querySelectorAll(t)),this[0][0]?this.length=this[0].length:this.length=0}return e.prototype.addClass=function(t){return this[0].addClass(t),this},e.prototype.removeClass=function(t){return this[0].removeClass(t),this},e.prototype.setClass=function(t){return this[0].attr("class",t),this},e.prototype.hasClass=function(t){return this[0].hasClass(t)},e.prototype.element=function(){return this[0]},e.prototype.find=function(t){return this[0][0]&&t?(this[0]=angular.element(this[0][0].querySelectorAll(t)),this):this.reset()},e.prototype.reset=function(){return this.setElement(),this},e.prototype.setElement=function(t){return t?this[0]=t:(this.length=0,this[0]=angular.element()),this},e.prototype.after=function(t,t){return this[0].after(t,t),this},e.prototype.append=function(t,t){return this[0].append(t,t),this},e.prototype.attr=function(t,e){return this[0].attr(t,e),this},e.prototype.remove=function(){this[0].remove()},e.prototype.first=function(){return this[0]=this[0][0],this},e.prototype.on=function(t,e){return this[0].on(t,e),this},e.prototype.off=function(t,e){return this[0].off(t,e),this},e.prototype.once=function(t,e){return this[0].once(t,e),this},function(t){return new e(t)}}]),angular.module("plcent.popShow",[]).directive("popShow",["$animate","$","$timeout","popShowInstance",function(t,e,n,o){return function(t,r,i){r.on("click",function(){var t=r.find("img").attr("src");o.has()&&o.clear();var i=e("<img>");i.attr("src",t),i.addClass("positionAbsolute"),r.append(i.element()),o.add(i),n(function(){},100)})}}]).service("popShowInstance",[function(){var t=[];this.has=function(){return t.length&&!0},this.add=function(e){t.push(e)},this.clear=function(){for(var e in t)t[e].remove();t=[]}}]);